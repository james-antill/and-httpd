2005-10-17  James Antill  <james@and.org>

	* src/httpd.c (HTTPD_CONF_ZIP_LIMIT_MIN): Add minimum file length for
	trying zipped files.

	* src/httpd.c (http_fin_err_req): Fix fd bug on zero length error
	files.
	(http_fin_err_req): Fix bug on HEAD ops on customer files.

	* src/httpd_conf_req.c (httpd__conf_req_d1): Add ability to give
	numbers to dynamic expires configurations.

	* src/vlg.c (VLG__SIG_BLOCK_BEG): Don't do anything before we set
	vlg__in_signal.

2005-10-16  James Antill  <james@and.org>

	* src/opt_serv.c (opt_serv__sig_raise_cont): Change _info to _warn.

	* src/httpd.c (http_parse_quality): Fix bug in parsing quality values of
	1.0 and 1.00
	(http_fin_err_req): Fix assert() when outputting gzipped custom error
	pages.

2005-10-15  James Antill  <james@and.org>

	* src/httpd_conf_main.c (httpd__match_find): return failure if there is
	no match list (couldn't happen).
	(httpd__match_find_before): return failure if there is no match
	list (couldn't happen).

	* tools/and-httpd_gzip.in: Use correct path.

	* Documentation/and-httpd_pad.xml: Add a PAD file.

	* src/httpd.c (http__parse_hdrs): Fail if we've got content-type/lang
	but no content-legnth = 0.

	* src/httpd.c (http_fin_err_req): Added more errors that can go through
	FS.
	(http__policy_req): Free current req when a match-request BLOCKs a
	connection.

	* tools/Makefile.am (crond_SCRIPTS): Added cron helpers.

	* err/Makefile.am (err_DATA): Added error pages on FS.

2005-10-14  James Antill  <james@and.org>

	* src/httpd_conf_req.c (httpd__conf_req_d1): Add return code names.

2005-10-11  James Antill  <james@and.org>

	* src/opt_policy.c (opt_policy_sc_conf_parse): Don't allow copy/inherit
	from the current policy.

	* src/httpd_conf_req.c (httpd__conf_req_d1): Add 
	content-language-extension and content-type-extension (renaming
	negotiate-* to *-negotiate, with backwards compat.)

	* src/httpd_conf_req.c (httpd__meta_build_path): Add none bracketed 
	names.

	* src/conf.h (conf_parse_num_token): Allow going to a previous token.

	* src/conf.h (conf_parse_end_token): Fix bug when skipping a lower
	depth than current.

	* src/httpd_conf_main.c (httpd__match_make): Allow positions for
	matches, and ability to add after/before them. Allow stopping of the
	match. Minor opt.

	* tools/Makefile.am (toolsmaindir): Move directory.
	(toolsmain_SCRIPS): Remove extensions.
	(toolsmain_DATA): Rename scons helper module.

2005-10-09  James Antill  <james@and.org>

	* src/opt_serv.c (opt_serv__match_init_tst_d1): Allow hostname
	comparison.
	(opt_serv__conf_d1): Add dumpable.
	(opt_serv_sc_append_cwd): Don't allocate forever.

	* src/httpd_conf_main.c (httpd__conf_main_policy_http_d1): Add explicit
	"off" authentication.
	(httpd__conf_main_policy_http_d1): Move "Server:" configuration to this
	depth.

2005-10-07  James Antill  <james@and.org>

	* src/cntl.c (cntl_pipe_acpt_fds): Add error checking to PDEATHSIG
	setting.

2005-09-29  James Antill  <james@and.org>

	* src/ex_utils.h (O_NOATIME): Add O_NOATIME support, and configuration.

2005-09-22  James Antill  <james@and.org>

	* NEWS: Release 0.99.2

2005-09-20  James Antill  <james@and.org>

	* src/evnt.c (evnt_recv): Make sure readv() goes up, even if we have no
	cached buffers.

	* src/httpd.c (http_response_ok): Always use strong comparison for
	if-match.

	* src/httpd_conf_main.c (httpd__policy_request_d1): Add "tag"s to
	the connection and request structs.

	* tools/and-httpd.conf: Change default config file to include rlimit
	increases, and larger max-connections for root users.

	* tools/make_index.pl: Fix directory names for non-path directories.

2005-09-19  James Antill  <james@and.org>

	* src/evnt.c (evnt__timer_cb_mtime): Allow configurable option of
	instant close on timeout.

	* src/Makefile.am: Move from _DATA to _BIN so things get chmod +x.

2005-09-18  James Antill  <james@and.org>

	* NEWS: Release 0.99.1

2005-09-11  James Antill  <james@and.org>

	* and-httpd.spec.in: Done first real build.

2005-08-30  James Antill  <james@and.org>

	* : Initial import from Vstr

